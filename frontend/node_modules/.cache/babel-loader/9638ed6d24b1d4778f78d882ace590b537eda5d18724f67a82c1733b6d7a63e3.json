{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\angel\\\\Desktop\\\\plataforma_educativa\\\\frontend\\\\src\\\\components\\\\mensajeria\\\\VistaMensajeIndividual.js\";\nimport React from 'react';\nimport './MensajeriaVistas.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VistaMensajeIndividual = ({\n  mensaje,\n  tipoVista,\n  user,\n  onResponder,\n  onEditar,\n  onCerrar\n}) => {\n  if (!mensaje) return null;\n  const remitenteNombre = tipoVista === 'recibidos' ? `${mensaje.remitente_nombre} ${mensaje.remitente_apellido}` : `${mensaje.destinatario_nombre} ${mensaje.destinatario_apellido}`;\n  const remitenteRol = tipoVista === 'recibidos' ? mensaje.remitente_rol : mensaje.destinatario_rol;\n  const esRemitente = mensaje.id_emisor === user.id;\n  const puedeEditar = esRemitente && !mensaje.leido;\n  const esImagen = mensaje.archivo_adjunto && /\\.(jpg|jpeg|png|gif|webp)$/i.test(mensaje.archivo_adjunto);\n  const urlArchivo = mensaje.archivo_adjunto ? `http://localhost:5000${mensaje.archivo_adjunto}` : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mensaje-detail\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mensaje-detail-header\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-close\",\n        onClick: onCerrar,\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mensaje-detail-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mensaje-detail-meta\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: remitenteNombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mensaje-rol\",\n            children: [\"(\", remitenteRol, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mensaje-detail-date\",\n          children: new Date(mensaje.fecha_envio).toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mensaje-detail-subject\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Asunto:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), \" \", mensaje.asunto || 'Sin asunto']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mensaje-detail-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mensaje-contenido\",\n          children: mensaje.contenido\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), urlArchivo && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mensaje-archivo\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDCCE Archivo adjunto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 29\n          }, this), esImagen ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"archivo-imagen\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: urlArchivo,\n              alt: \"Adjunto\",\n              style: {\n                maxWidth: '100%',\n                maxHeight: '400px',\n                marginTop: '10px',\n                borderRadius: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: urlArchivo,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"btn-download\",\n              children: \"\\uD83D\\uDCE5 Descargar imagen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"archivo-documento\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: urlArchivo,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"btn-download\",\n              children: \"\\uD83D\\uDCE5 Descargar archivo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mensaje-detail-actions\",\n        children: [tipoVista === 'recibidos' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          onClick: onResponder,\n          children: \"\\uD83D\\uDCE7 Responder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), puedeEditar && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-secondary\",\n          onClick: onEditar,\n          children: \"\\u270F\\uFE0F Editar Mensaje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\nexport default VistaMensajeIndividual;","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","VistaMensajeIndividual","mensaje","tipoVista","user","onResponder","onEditar","onCerrar","remitenteNombre","remitente_nombre","remitente_apellido","destinatario_nombre","destinatario_apellido","remitenteRol","remitente_rol","destinatario_rol","esRemitente","id_emisor","id","puedeEditar","leido","esImagen","archivo_adjunto","test","urlArchivo","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","Date","fecha_envio","toLocaleString","asunto","contenido","src","alt","style","maxWidth","maxHeight","marginTop","borderRadius","href","target","rel"],"sources":["C:/Users/angel/Desktop/plataforma_educativa/frontend/src/components/mensajeria/VistaMensajeIndividual.js"],"sourcesContent":["import React from 'react';\r\nimport './MensajeriaVistas.css';\r\n\r\nconst VistaMensajeIndividual = ({ mensaje, tipoVista, user, onResponder, onEditar, onCerrar }) => {\r\n    if (!mensaje) return null;\r\n\r\n    const remitenteNombre = tipoVista === 'recibidos'\r\n        ? `${mensaje.remitente_nombre} ${mensaje.remitente_apellido}`\r\n        : `${mensaje.destinatario_nombre} ${mensaje.destinatario_apellido}`;\r\n    const remitenteRol = tipoVista === 'recibidos'\r\n        ? mensaje.remitente_rol\r\n        : mensaje.destinatario_rol;\r\n\r\n    const esRemitente = mensaje.id_emisor === user.id;\r\n    const puedeEditar = esRemitente && !mensaje.leido;\r\n\r\n    const esImagen = mensaje.archivo_adjunto && /\\.(jpg|jpeg|png|gif|webp)$/i.test(mensaje.archivo_adjunto);\r\n    const urlArchivo = mensaje.archivo_adjunto \r\n        ? `http://localhost:5000${mensaje.archivo_adjunto}`\r\n        : null;\r\n\r\n    return (\r\n        <div className=\"mensaje-detail\">\r\n            <div className=\"mensaje-detail-header\">\r\n                <button className=\"btn-close\" onClick={onCerrar}>√ó</button>\r\n            </div>\r\n            <div className=\"mensaje-detail-content\">\r\n                <div className=\"mensaje-detail-meta\">\r\n                    <div>\r\n                        <strong>{remitenteNombre}</strong>\r\n                        <span className=\"mensaje-rol\">({remitenteRol})</span>\r\n                    </div>\r\n                    <div className=\"mensaje-detail-date\">\r\n                        {new Date(mensaje.fecha_envio).toLocaleString()}\r\n                    </div>\r\n                </div>\r\n                <div className=\"mensaje-detail-subject\">\r\n                    <strong>Asunto:</strong> {mensaje.asunto || 'Sin asunto'}\r\n                </div>\r\n                <div className=\"mensaje-detail-body\">\r\n                    <div className=\"mensaje-contenido\">\r\n                        {mensaje.contenido}\r\n                    </div>\r\n                    {urlArchivo && (\r\n                        <div className=\"mensaje-archivo\">\r\n                            <strong>üìé Archivo adjunto:</strong>\r\n                            {esImagen ? (\r\n                                <div className=\"archivo-imagen\">\r\n                                    <img \r\n                                        src={urlArchivo} \r\n                                        alt=\"Adjunto\" \r\n                                        style={{ maxWidth: '100%', maxHeight: '400px', marginTop: '10px', borderRadius: '8px' }}\r\n                                    />\r\n                                    <a \r\n                                        href={urlArchivo} \r\n                                        target=\"_blank\" \r\n                                        rel=\"noopener noreferrer\"\r\n                                        className=\"btn-download\"\r\n                                    >\r\n                                        üì• Descargar imagen\r\n                                    </a>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"archivo-documento\">\r\n                                    <a \r\n                                        href={urlArchivo} \r\n                                        target=\"_blank\" \r\n                                        rel=\"noopener noreferrer\"\r\n                                        className=\"btn-download\"\r\n                                    >\r\n                                        üì• Descargar archivo\r\n                                    </a>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                <div className=\"mensaje-detail-actions\">\r\n                    {tipoVista === 'recibidos' && (\r\n                        <button className=\"btn-primary\" onClick={onResponder}>\r\n                            üìß Responder\r\n                        </button>\r\n                    )}\r\n                    {puedeEditar && (\r\n                        <button className=\"btn-secondary\" onClick={onEditar}>\r\n                            ‚úèÔ∏è Editar Mensaje\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VistaMensajeIndividual;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}